<!doctype html>
<html class="no-js" lang="">

<head>
  <meta charset="utf-8">
  <title></title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="manifest" href="site.webmanifest">
  <link rel="apple-touch-icon" href="icon.png">
  <!-- Place favicon.ico in the root directory -->

  <link rel="stylesheet" href="../css/normalize.css">
  <link rel="stylesheet" href="../css/main.css">
  <link href="https://fonts.googleapis.com/css?family=Audiowide|Bitter|Dosis|Indie+Flower|Josefin+Sans|Merriweather+Sans|Permanent+Marker|Shadows+Into+Light&display=swap" rel="stylesheet">

  <meta name="theme-color" content="#fafafa">
</head>

<body>
  <!--[if IE]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->

  <!-- Add your site or application content here -->
  <div id="menu-bar" class="marker">
    <div class="masthead">
      <div class="siteName">JecT</div>
      <div class="subtitle">An interactive project journal</div>
    </div>
    <ul>
      <li><a class="hover" href="./contacts.html">Contact</a></li>
      <li><a class="hover" href="./books.html">Books</a></li>
      <li><a class="hover">Notes</a></li>
      <li><a class="hover" href="./projects.html">Projects</a></li>
      <li><a class="hover" href="../index.html">Home</a></li>
    </ul>
  </div>
  <div class="header">
    <div class="hero-image" style="background-image: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url('../img/cyberPunk.jpg');">
      <div class="hero-text">
        <h1 class="marker">Development Page Please Ignore...</h1>
        <p>No. Really. Go away please...</p>
      </div>
    </div>
  </div>
  <div class="body shadowBox">
    <div class="summary"> 
      <p style="font-size:14px; text-align: center;">Like really please go away.</p>
    </div>
    <ul>
      <li>
        <div class="card">
          <a href="./notes/gaming.html">
          <div class="hero-image" style="background-image: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url('../res/notes/gaming/imgs/icon.jpg');">
            <div class="hero-text">
              <h1 class="marker">Gaming</h1>
              <p>See what I'm playing and what I think of it.</p>
            </div>
          </div>
          </a>
        </div>
      </li>
    </ul>
    <div id="newsfeed">
      
    </div>
    <div class="summary" id="postArea"> 
      <p style="font-size:100px; text-align: center;">&#128126</p>
    </div>
  </div>
  <script src="../js/vendor/modernizr-3.7.1.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
  <script>window.jQuery || document.write('<script src="../js/vendor/jquery-3.4.1.min.js"><\/script>')</script>
  <script src="../js/plugins.js"></script>
  <script src="../js/main.js"></script>

  <!-- Google Analytics: change UA-XXXXX-Y to be your site's ID. -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-XXXXX-Y', 'auto'); ga('set','transport','beacon'); ga('send', 'pageview')
  </script>
  <script type="text/javascript">
    // Code to add a hoverable menu below posts (so if someone hovers mouse over a post for a while show the menu for editing)
    var cards = document.getElementsByClassName("card");
    var optionsMenu = document.createElement("div");
    optionsMenu.classList.add("cardOptionsMenu");

    var optionsMenu2 = document.createElement("div");
    optionsMenu2.classList.add("cardOptionsMenu2");


    for (i = 0; i < cards.length; i++) {
      var card = cards[i];
      card.appendChild(optionsMenu2);
      // card.addEventListener("mouseover", function() {
      //   console.log("Mouse in!");
      //   timeout = setTimeout(function() {
      //     card.appendChild(optionsMenu);
      //   }, 500);
        
      // });
      // card.addEventListener("mouseout", function() {
      //   console.log("Mouse out!");
      //   clearTimeout(timeout);
      //   card.removeChild(optionsMenu);
      // });
    }
  </script>
  <script>
    class newPostObj {
      constructor(attachPoint) {

      }

      editTitle() {

      }

      editContent() {

      }

      publish() {

      }

      clear() {

      }
    }

    class editablePost {
      constructor(attachPoint) {

      }

      render() {

      }
    }

    class collapsibleNewPost {
      constructor(attachPoint) {
        // Bind context for certain methods that need a constant this
        // this.publish = this.publish.bind(this);
        this.newPost = this.render();
        this.attachPoint = attachPoint;
        console.log("New Post: " + attachPoint);
        console.log("AttachPoint: " + attachPoint);
        console.log("Test: " + attachPoint != null);
        console.log(this.newPost != null + " and ");
        if (this.newPost != null && attachPoint != null) {
          console.log("Attaching new post obj");
          attachPoint.appendChild(this.newPost);
        }
      }

      render() {
        // Create the holder for everything
        let shadowBox = document.createElement("div");
        shadowBox.classList.add("shadowBox");

        // Create button that will handle collapsing (and title)
        let collapsible = document.createElement("button");
        collapsible.classList.add("collapsible");
        collapsible.textContent = "Create New Post";

        let newSpan = document.createElement("span");
        newSpan.innerHTML = "&#9999";
        newSpan.addEventListener("click", function(event) {
          event.stopPropagation();
          collapsible.setAttribute("contenteditable", true);
        });
        

        // Create div to house the content
        let content = document.createElement("div");
        content.classList.add("content");

        // paste inside the div a place for the user to edit
        let editableContent = document.createElement("p");

        // Create the menu buttons for saving and deleting
        let menuButtons = document.createElement("div");
        menuButtons.style.width = "100%";

        // Create the button to publish post
        let save = document.createElement("div");
        save.classList.add("menuButton");
        save.style.width = "50%";
        save.textContent = "Publish Post";

        let collapsiblePost = this;
        save.addEventListener("click", function() {
          let post = collapsiblePost.publish(editableContent.textContent);
          editableContent.textContent = "";
        });

        // Create the button to delete post
        let clear = document.createElement("div");
        clear.classList.add("menuButton");
        clear.style.width = "50%";
        clear.textContent = "Clear Post";
        clear.addEventListener("click", function() {
          editableContent.textContent = "";
        });

        menuButtons.appendChild(save);
        menuButtons.appendChild(clear);

        // Put everything together
        content.appendChild(editableContent);
        content.appendChild(menuButtons);
        shadowBox.appendChild(collapsible);
        shadowBox.appendChild(content);

        collapsible.addEventListener("click", function() {
          // Activate the div
          collapsible.classList.toggle("active");
          content.classList.add("open");
          if (content.style.maxHeight) {
            // closing the post
            content.style.maxHeight = null;
            editableContent.setAttribute("contenteditable", false);
            // Why would we want to remove last child here?

            // Check if continuing or if new post
            if (editableContent.textContent === "") {
              collapsible.textContent = "Create New Post";
            } else {
              collapsible.textContent = "Re-Open Post";
            }
          } else {
            collapsible.textContent = "Hide Post (Will not publish!)";
            content.style.maxHeight = "inherit";
            editableContent.setAttribute("contenteditable", true);
          }
          collapsible.appendChild(newSpan);
        });
        return shadowBox;
      }

      publish(postBody) {
        if (postBody != "") {
          let newPost = document.createElement("p");
          newPost.classList.add("post");
          newPost.textContent = postBody;
          this.attachPoint.prepend(newPost);
        }
      }
    }

    // Code for creating new posts
    var coll = document.getElementsByClassName("collapsible");
    let attachPoint = document.getElementById("newsfeed");
    var newPostThingy = new collapsibleNewPost(attachPoint);
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async></script>
</body>

</html>
